{% extends 'base.twig' %}

{% block main %}
    <main>
        <section class="container">
            <div class="row justify-content-around align-items-center">
                {# Each subcategory #}
                {% for subcategory in showSubcategory if subcategory.slugCategory == subcategoryTab %}
                    <div class="block--category rounded col-lg-5 col-11 my-2 p-0"
                         style="background: url('/web/img/subcategory/{{ subcategory.img }}') no-repeat center;background-size: cover;">
                        <div class="text-center pt-3 px-3">
                            <a href="/forum/{{ subcategory.slug }}/topics">
                                <h5>{{ subcategory.name }}</h5>
                                <p class="text-justify">
                                    {{ subcategory.content }}
                                </p>
                            </a>
                        </div>
                        <div>
                            <p class="px-3">
                                {% for last in lastMessage if last.id == subcategory.id %}
                                    <a href="/forum/{{ last.slug }}/topics/{{ last.idTopic }}">
                                        Dernier message il y a {{ last.datePub|time_diff }}
                                        -
                                        {{ last.subject }}
                                    </a>
                                {% endfor %}
                            </p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </section>

        <section class="container mt-5">
            <div class="row my-2">
                <div class="col-6">
                    <a href="/forum" class="btn">
                        Retour
                    </a>
                </div>
            </div>
        </section>
    </main>
{% endblock main %}